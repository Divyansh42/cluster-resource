apiVersion: tekton.dev/v1beta1
kind: Pipeline
metadata:
  name: kubeconfig-test-pipeline
spec:
  workspaces:
    - name: shared-workspace
  tasks:
    - name: kubeconfig-creator
      taskRef:
        name: kubeconfig-creator
      workspaces:
        - name: kubeconfigFile
          workspace: shared-workspace
      params:
        - name: name
          value: cluster-bot
        - name: username
          value: admin
        - name: url
          value: https://api.ci-ln-13f81c2-d5d6b.origin-ci-int-aws.dev.rhcloud.com:6443
        - name: clientCertificateData
          value: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURaekNDQWsrZ0F3SUJBZ0lJRG5vWXhYYmJaejh3RFFZSktvWklodmNOQVFFTEJRQXdOakVTTUJBR0ExVUUKQ3hNSmIzQmxibk5vYVdaME1TQXdIZ1lEVlFRREV4ZGhaRzFwYmkxcmRXSmxZMjl1Wm1sbkxYTnBaMjVsY2pBZQpGdzB5TURBME1EWXdOelEzTURSYUZ3MHpNREEwTURRd056UTNNRFJhTURBeEZ6QVZCZ05WQkFvVERuTjVjM1JsCmJUcHRZWE4wWlhKek1SVXdFd1lEVlFRREV3eHplWE4wWlcwNllXUnRhVzR3Z2dFaU1BMEdDU3FHU0liM0RRRUIKQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUN4M2tnVml3aUpIVkhpMHRvdU82TS9GN0UweG5tS0tZdjVBMHlITUhOWAorMFNjbWpWRnk0NU02MVBvcVhZMCtZdm4wV1dXYkd4cVo4aExOS2M5ZWtMTWswVmpYSGo2UnFVQ2dDRzU4eWdUCldkUzNlSlNkdVFQYzhWKzZJSy9aa2tJR1daTG10STVQd1FxTmdGcnBNY0pEUCs0S0Q2UkNXY1NkZnN1aEd1V1EKV0hmWnZrUjgrTldzN0IvMzBXVVVrVld1ZFRtREFsT2dXNmRTdXJiaGpXK3JuaUlWaXcrTmJjTkxub0xVN1BVNwpsRVU2RGkvMHU2SDFVd0JsMlNKNnM1NDJBMVAxc1ZNZ2dJbmpibWwvQkdtQVhMd1FQYVIwM2dYVFYvbWo5a0Z3CjRnaUxTZnB4WjVOVEpJcVRhMVduU0lWY1JmWFBPMUY5ZS91Wkx2RldqUHV0QWdNQkFBR2pmekI5TUE0R0ExVWQKRHdFQi93UUVBd0lGb0RBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSEF3SXdEQVlEVlIwVApBUUgvQkFJd0FEQWRCZ05WSFE0RUZnUVVsWFEzbm5seko1dzAzOW4zckNtUG43SU42akl3SHdZRFZSMGpCQmd3CkZvQVVsWFEzbm5seko1dzAzOW4zckNtUG43SU42akl3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUQrckpNdXIKRkVNYzFxU01yTkRGbStaYmxSNzdRSURYQmw0NXREQjJTM09ub09ZeE9PS1ZSdVdmUW0vbUNyNFVlUDhWa2RVRgorTldZY1VEVHprK1FUNy8xdXUrSVFZRDg5WWE1UGJqLy83aU4zaGxQNnRmMFIxQU9GeXU0OG14SWNSTk0rMmwxCmtVeGMrU1ZrdXZWWmJtSjVnOXYxWG91THdmQ01ldExUOU5VQkdWcnZ1MGZvSUdVRUQ2R1pCVTh2T0l1NkttNkgKTlgzWG9VQUtldWs4T0tNcE1WZFRyMU1vVUxZNjhKTm01VG1BV29lVSt2MjB0ZW91RnJKbU5nc0JmVXNCQmJmZQpEUW5lSlNFQ3Vyc2xaRjVTcFVvOWk2OWxyWTRpRU1sUkRCbkhUMVBNTHRnSkdaV0tSUDNPbC9zWnhEd3BnSnpYClhpbzgzMUlxcW44SXpKWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
        - name: clientKeyData
          value: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBc2Q1SUZZc0lpUjFSNHRMYUxqdWpQeGV4Tk1aNWlpbUwrUU5NaHpCelYvdEVuSm8xClJjdU9UT3RUNktsMk5QbUw1OUZsbG14c2FtZklTelNuUFhwQ3pKTkZZMXg0K2thbEFvQWh1Zk1vRTFuVXQzaVUKbmJrRDNQRmZ1aUN2MlpKQ0JsbVM1clNPVDhFS2pZQmE2VEhDUXovdUNnK2tRbG5Fblg3TG9ScmxrRmgzMmI1RQpmUGpWck93Zjk5RmxGSkZWcm5VNWd3SlRvRnVuVXJxMjRZMXZxNTRpRllzUGpXM0RTNTZDMU96MU81UkZPZzR2CjlMdWg5Vk1BWmRraWVyT2VOZ05UOWJGVElJQ0o0MjVwZndScGdGeThFRDJrZE40RjAxZjVvL1pCY09JSWkwbjYKY1dlVFV5U0trMnRWcDBpRlhFWDF6enRSZlh2N21TN3hWb3o3clFJREFRQUJBb0lCQUI1YWdKS3NsMWhPMkpxTQp3UThDdm1rVjhmZS9weDRjMlBZMXllbUlLeWJvaWx6dk5BZ2xKTE9idFVZUEpVMEZDUXNXZ08rYXNTVzNjRWJsClJXVUlhRDNoSkFaQTBhUmtTZVNUV1M0U2dOUk1rREIvTTExM0pXR2ZEMmNFRFA1a0owQk9LUE9WL0hNL3pqMDMKbWt3UlljVjRNM2NrRkRQK2ZiOGkxRDA2Q2RNSC9PYWRialF0Z3hqQ0hiMzVRcitVWXFPbEYxQXFMSXg3T2pVaApxalhHc1kyZXFxNjlzQjgvNDZ3d1hoRC9SQnVzT08ycXBmL2F6UlNMKzhMZUFRSmhrTy9XTGZFWXdhcUk0WFh4ClhvSUxjWVNpM3EyTXhLekNUWlJNSEF3NllxZ0ZlMVgrUGlqQ0xFdWI2UmlCQ3NUWnNHaE5GTEJiRzY5WnZIRngKeUs1ZUpBRUNnWUVBeG9YbXVybnorbnJQL1ByK0dIRUw2L1QzNEt0N2FjWWFnZTVXMTVtdE5PZFZlWkh6M0Z2RQorSkMzazVMK2loc0ZkendSeC93WnBaaS9uQU5wSnU0TEtucG5WelVhTWoxYVltK093Z1g3dkJWdkZCckdxK3lQCkZtWkFRVjFZSFhVdnZrMW1kTXFIU25xUUhFTGdDeWdTeXgvTTNxTUhlNjVmbjJwOS93RkE4eDBDZ1lFQTVWMSsKYnArWGpRc3JYcTZvRVJzZUZVNWZFSktqNitYTHpBV2hESVlkbHZXNGlYRjBFVFE1QmNpNkJOV1dDZExvYlhJQQpXZEJVREIvd2FNNUJBL2JPMU1Ed281Y05YQ1IyMFducm8xMjBYSG8xdXFDYUZDWC9PWjhMb0VlUnRzb1JiMVhYClYxaCtZaXJMb0FXWmY5VXNjNEcvMTk5TUdQVVRUT2tsaTJxL3RkRUNnWUVBcnNQbU1PL094dTBpK0pTRTZFTnMKdVZZNGVVSzlMSXJIZnlhd3NMQ0srSTNHZzNWbmR0QWJBSzkxekthVkNrTnJkbUlkVFM2ejdVSWhQRmtNVXNjdwpjVDY4aHRzcXFwdTBXLy9WYngwUlZheVEwdVFYamZaOHFMMXZSNXZESEh1emdoWmxZZCtCWnFHckNCWWZZZkx2ClNINUFQcWJLeWFqaWFWYTRnS3M3NEVrQ2dZQWdhSEZ3MkFQbDNlb20ycTdNbS9SSU5tYWdSTmY4Z04rbTJEVEYKUEQzNkVvWWNoWGRNNXdBWG5TRUxoZEpKV1ErV1IwRmRiMTR3eUdLRHJJRHJPbmhHLzJ3QThWcmw1aEVUemMrSgpxYmZPU1VaR05HTVE3YjErT3NhOXd0OEg0TTFOMmVjdlpFV1hRVXk4TTQ1WXpab1dTQUwvVVlIREZQM0JKRUExCnpzTi93UUtCZ1FDeWtSUzBYYzRaSDRhaksrSWlrc3B0SnREbkgrdDUrWVdiYUF2d2hJU1lTZWhkeUwzOUFqNFEKMi8xSkh1eHhnZkJGR1JpS2pDakRUQzlZR0x4cXRPaDdUeGR2emZ0aFJqYlRrMmdMT0hYczh2azFYNkZDeGs0Ugo2RzNlck9pQUlIRFEvWGVLanpUMk9xRjJCSC9rZDFzM0ZqMWQrbVJUcm16SFRYSDM5b0lQTGc9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=

    - name: authentication-test
      taskRef:
        name: authentication-test
      workspaces:
        - name: kubeconfigFile
          workspace: shared-workspace
      params:
        - name: filename
          value: kubeconfig
      runAfter:
        - kubeconfig-creator